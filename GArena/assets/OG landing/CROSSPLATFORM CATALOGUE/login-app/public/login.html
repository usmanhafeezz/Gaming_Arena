<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="Shortcut Icon" href="./favicon.svg" type="image/svg+xml">
</head>

<body>
    <div class="login-container">
        <img src="./favicon.png" alt="">
        <h2>Sign In or Sign Up</h2>
        <form id="loginForm" action="/login" method="POST">
            <div class="input-wrapper">
                <label for="email" class="placeholder"></label>
                <input type="email" id="email" name="email" placeholder="Email Address" required>
                <span class="error-message" id="emailError"></span>
            </div>
            <div class="input-wrapper">
                <label for="password" class="placeholder"></label>
                <input type="password" id="password" name="password" placeholder="Password" required>
                <span class="error-message" id="passwordError"></span>
            </div>
            <button type="button" id="continueButton">CONTINUE</button>
            <div class="separator">
                <div class="typo-con">
                    <p class="typo-con-root typo-con-body2 typo-con3">or continue with</p>
                </div>
            </div>
            <div class="custom-xbox-container">
                <button class="custom-xbox-button" tabindex="0" type="button" id="login-with-xbl" aria-label="Sign in with Xbox network" onclick="handleXboxLogin()">
                    <span class="custom-xbox-button-inner">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" class="custom-xbox-icon">
                            <path fill="currentColor" d="m 22.507206,49.595036 c -3.839305,-0.36485 -7.72611,-1.732319 -11.064938,-3.893265 -2.7978042,-1.809887 -3.4291927,-2.5551 -3.4291927,-4.040355 0,-2.983725 3.3075477,-8.21056 8.9668737,-14.16767 3.213132,-3.384198 7.689618,-7.34871 8.173295,-7.241842 0.94187,0.20857 8.466399,7.488906 11.283897,10.916772 4.454474,5.418165 6.501564,9.856119 5.461221,11.834353 -0.790684,1.503643 -5.698136,4.443126 -9.302843,5.57215 -2.971581,0.930798 -6.874025,1.324952 -10.088313,1.019857 z M 4.2340126,38.559329 C 1.9088811,35.021147 0.73415086,31.538122 0.16763899,26.50032 -0.02003976,24.836949 0.04599538,23.886041 0.59223331,20.470815 1.2717001,16.219021 3.7144204,11.294982 6.6512458,8.267015 7.9012791,6.9799849 8.0124961,6.9455116 9.5370966,7.4568757 11.384921,8.077408 13.360182,9.4310872 16.424444,12.179816 l 1.789899,1.605339 -0.978941,1.189353 c -4.534413,5.521588 -9.3202208,13.352935 -11.1217053,18.196534 -0.9789419,2.631516 -1.3728356,5.274524 -0.949979,6.374819 0.2838352,0.743489 0.02317,0.466548 -0.9326015,-0.984808 z M 45.044298,39.160902 C 45.274264,38.04854 44.983478,36.006529 44.302852,33.946133 42.828647,29.484619 37.899762,21.185001 33.374039,15.541607 l -1.424969,-1.776561 1.541978,-1.403668 c 2.012333,-1.832868 3.409498,-2.9302908 4.917879,-3.8628125 1.189212,-0.7354455 2.889327,-1.3864302 3.620346,-1.3864302 0.450082,0 2.036663,1.6375155 3.316819,3.4186727 1.98337,2.757921 3.441936,6.107646 4.181064,9.589522 0.477887,2.252302 0.517855,7.067172 0.07705,9.313728 -0.36493,1.843211 -1.129549,4.23226 -1.870995,5.853113 -0.561878,1.214061 -1.946299,3.572656 -2.554517,4.340278 -0.312798,0.394728 -0.312798,0.394154 -0.139022,-0.457355 z M 22.918477,6.2698203 C 20.829682,5.2183627 17.607863,4.0893392 15.82839,3.7848192 15.20511,3.6785241 14.141019,3.6181945 13.465028,3.6526689 11.996035,3.7262109 12.061492,3.650385 14.416743,2.5466266 16.374628,1.6290436 18.008129,1.0895255 20.226677,0.62757424 22.720371,0.10759098 27.409445,0.10184493 29.86375,0.61493532 32.513844,1.1693929 35.635451,2.3213995 37.394073,3.3958394 L 37.917719,3.7141492 36.71866,3.6543965 C 34.334445,3.5348861 30.86007,4.490391 27.129664,6.289934 26.00475,6.8334749 25.026967,7.2666979 24.955139,7.2552067 24.883899,7.2414175 23.966929,6.7984262 22.916159,6.2698248 Z">
                            </path>
                        </svg>
                    </span>
                    Sign in with Xbox
                </button>
            </div>
        </form>
        <!-- images grid with anchor tag -->
        <div class="image-grid">
            <div class="image-container">
                <a href=""><img src="./images/xbox-logo.jpeg" alt="Image 1"></a>
            </div>
            <div class="image-container">
                <a href=""><img src="./images/playstation.png" alt="Image 2"></a>
            </div>
            <div class="image-container">
                <a href=""><img src="./images/nintendo.png" alt="Image 3"></a>
            </div>
            <div class="image-container"><a href=""><img src="./images/valve.jpeg" alt="Image 4"></a>
            </div>
        </div>
        <!-- Second grid of images -->
        <div class="image-grid">
            <div class="image-container">
                <a href=""><img src="./images/facebook.png" alt="Image 1"></a>
            </div>
            <div class="image-container">
                <a href=""><img src="./images/google.1.jpg" alt="Image 2"></a>
            </div>
            <div class="image-container">
                <a href=""><img src="./images/apple logo.jpg" alt="Image 3"></a>
            </div>
            <div class="image-container"><a href=""><img src="./images/lego.png" alt="Image 4"></a>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <p>You have successfully signed in!</p>
        </div>
    </div>




    <!-- Javascript  -->
    <script src="./scripts.js"></script>
    <!-- JavaScript for Modal and Validation -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var modal = document.getElementById("myModal");
            var btn = document.getElementById("continueButton");
            var span = document.getElementsByClassName("close")[0];
            var email = document.getElementById("email");
            var password = document.getElementById("password");
            var emailError = document.getElementById("emailError");
            var passwordError = document.getElementById("passwordError");
            var loginForm = document.getElementById("loginForm");

            function showError(input, message) {
                input.nextElementSibling.textContent = message;
            }

            function clearError(input) {
                input.nextElementSibling.textContent = '';
            }

            function validateForm() {
                var isValid = true;
                if (!email.value) {
                    showError(email, "Email is required");
                    isValid = false;
                } else {
                    clearError(email);
                }

                if (!password.value) {
                    showError(password, "Password is required");
                    isValid = false;
                } else {
                    clearError(password);
                }

                return isValid;
            }

            btn.onclick = function(event) {
                event.preventDefault();
                if (validateForm()) {
                    modal.style.display = "block";
                    setTimeout(function() {
                        modal.style.opacity = 1;
                    }, 10); // Adding a slight delay to ensure the transition works
                }
            }

            span.onclick = function() {
                modal.style.opacity = 0;
                setTimeout(function() {
                    modal.style.display = "none";
                }, 500); // Match this with the transition duration
            }

            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.opacity = 0;
                    setTimeout(function() {
                        modal.style.display = "none";
                    }, 500); // Match this with the transition duration
                }
            }
        });
    </script>
</body>

</html>
